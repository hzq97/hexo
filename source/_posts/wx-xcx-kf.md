---
title: 微信小程序客服
tags: 
    - 微信小程序
categories: 
    - 微信小程序
---

##  小程序客服
- 在小程序公众后台开通小程序客服功能
- 小客服设置限制人员为100
- 目前已知功能
    - 根据微信号添加客服
    - 客服管理员的增删改查
    - 客服人员增删查
    - 主动下发消息给客户（触发条件为用户发送消息，限制为5条）
    - 获取在线客服
    - 获取用户发送的媒体素材
- 客服人员通过小程序客服小助手上下线，接待客户
- 客户通过开发人员的客服按钮打开客服联系页面

### 专属客服
> 利用客服子商户功能，可以为客服分组，设置专属客服

- 可以设置专属客服头像，昵称
- 分组可达2000
- 使用此功能必须设置小程序类目为电商类目（需要各种证书） 

### 开发
- 通过button按钮属性open-type设置为contact为客服按钮`<button open-type="contact" bindcontact="handleContact" session-from="sessionFrom"></button>`
- 小程序提供发送消息，发送客服动态功能 基于用户openID
- 目前无法接受用户消息，唯一可能的是利用消息推送收到用户消息，现有api只提供接受消息媒体素材
- 子商户专属客服`<button type='default' session-from='{"kefu":["126","127"],"nickName":"{{userInfo.nickName}}","avatarUrl":"{{userInfo.avatarUrl}}"}' open-type="contact"> 指定客服</button>`


##  企业微信客服
- 在小程序公众后台开通微信客服功能
- 可以使用api添加客服账号，客服账号接待人员等
- 可以在企业微信设置客服相关人员
- 客服账号限制5000，客服账号接待人员仅限企业内部人员
- 企业微信与小程序账号主体需一致（在小程序公众后台绑定企业微信id）

### 开发
- 利用button 跳转客服链接（可以指定客服）